def dijkstra(Grafo, inicio, final):
    dist, prev = {}, {}
    result = []

    for vertice in Grafo:
        dist[vertice] = float("inf")
        prev[vertice] = None
    dist[inicio] = 0

    Q = [vertice for vertice in Grafo]

    while Q:
        u = min(Q, key=dist.get)
        Q.remove(u)
        result.append(u)

        if u == final:
            break

        for vecino in Grafo[u]:
            if vecino in Q and dist[vecino] > dist[u] + Grafo[u][vecino]:
                dist[vecino] = dist[u] + Grafo[u][vecino]
                prev[vecino] = u

    nodo_actual = final
    camino = []
    while nodo_actual is not None:
        camino.insert(0, nodo_actual)
        nodo_actual = prev[nodo_actual]

    distancia_final = dist[final]
    return camino, distancia_final


grafo = {
    "U1" : {"U2": 1000*(3**2), "G1": 600*(2**2)}, # UNI
    "U2" : {"U1": 1000*(3**2), "G2": 600*(1**2)}, # Universidad Cayetano Heredia
    "U3" : {"G43": 350*(1**2)}, # UNMSM
    "U4" : {"G42": 900*(3**2), "G46": 1700*(4**2), "G45": 220*(1**2)}, # PUCP
    "U04" : {"G71": 1900*(6**2), "G56": 3100*(10**2), "G75": 750*(4**2)}, #UPC San Isidro
    "U5" : {"G90": 250*(1**2), "G91": 850*(1**2), "G93": 950*(2**2)}, # ULima
    "U6" : {"G83": 1200*(3**2), "G84": 1000*(2**2)}, #UPC Monterrico
    "U7" : {"G95": 500*(1**2)}, #USIL
    "U8" : {"G97": 500*(1**2)}, #UNALM
    
    "G1" : {"U1": 600*(2**2), "G2": 1300*(4**2), "G6": 1700*(3**2)},
    "G2" : {"U2": 500*(1**2), "G1": 1000*(4**2), "G3": 750*(1**2), "G5": 1800*(3**2)},
    "G3" : {"G2": 900*(3**2), "G4": 750*(4**2)},
    "G4" : {"G12": 1200*(4**2), "G3": 750*(4**2)},
    "G5" : {"G2": 1800*(3**2), "G4": 2000*(2**2), "G6": 550*(1**2)},
    "G6" : {"G7": 1000*(3**2), "G19": 2600*(7**2), "G5": 550*(1**2)},
    "G7" : {"G6": 700*(3**2), "G11": 94*(1**2)},
    "G8" : {"G7": 81*(1**2), "G19": 900*(4**2)},
    "G9" : {"G8": 74*(1**2), "G13": 350*(1**2)},
    "G10" : {"G9": 56*(1**2)},
    "G11" : {"G12": 2400*(5**2), "G10": 67*(1**2)},
    "G12" : {"G4": 1200*(3**2), "G16": 350*(1**2),"G10": 2400*(5**2)},
    "G13" : {"G9": 300*(1**2), "G14": 1200*(3**2), "G35": 500*(2**2)},
    "G14" : {"G13": 1200*(3**2), "G15": 650*(2**2), "G38": 1000*(2**2)},
    "G15" : {"G16": 600*(1**2), "G39": 750*(2**2), "G14": 600*(2**2)},
    "G16" : {"G12": 300*(1**2), "G15": 600*(2**2), "G17": 230*(1**2)},
    "G17" : {"G16": 240*(1**2), "G18": 750*(2**2), "G39": 1000*(3**2)},
    "G18" : {"G17": 750*(1**2), "G41": 1100*(4**2)},
    "G19" : {"G8": 600*(2**2), "G20": 800*(2**2)},
    "G20" : {"G19": 800*(2**2), "G21": 880*(3**2), "G59": 1200*(4**2)},
    "G21" : {"G22": 61*(1**2), "G20": 850*(2**2)},
    "G22" : {"G23": 220*(1**2)},
    "G23" : {"G33": 650*(3**2), "G24": 170*(1**2)},
    "G24" : {"G27": 85*(1**2), "G28": 550*(2**2)},
    "G25" : {"G24": 86*(1**2), "G21": 350*(1**2),},
    "G26" : {"G25": 73*(1**2), "G59": 600*(1**2)},
    "G27" : {"G26": 110*(1**2), "G58": 450*(1**2)},
    "G28" : {"G27": 450*(2**2), "G29": 83*(1**2),},
    "G29" : {"G30": 94*(1**2), "G33": 180*(1**2)},
    "G30" : {"G37": 1100*(4**2), "G31": 67*(1**2)},
    "G31" : {"G32": 73*(1**2), "G55": 650*(1**2)},
    "G32" : {"G56": 450*(1**2), "G28": 50*(1**2)},
    "G33" : {"G29": 180*(1**2), "G34": 230*(1**2), "G23": 650*(3**2)},
    "G34" : {"G33": 230*(1**2), "G22": 600*(2**2), "G35": 210*(1**2)},
    "G35" : {"G34": 190*(1**2), "G36": 950*(3**2), "G13": 850*(2**2)},
    "G36" : {"G38": 600*(1**2)},
    "G37" : {"G34": 1000*(3**2), "G36": 230*(1**2), "G48": 1800*(5**2)},
    "G38" : {"G37": 550*(2**2), "G39": 500*(1**2), "G40": 550*(1**2), "G47": 1300*(3**2)},
    "G39" : {"G40": 350*(1**2), "G15": 750*(2**2), "G17": 1000*(2**2)},
    "G40" : {"G39": 300*(1**2), "G38": 500*(1**2), "G41": 1600*(4**2)},
    "G41" : {"G40": 1600*(4**2), "G18": 1100*(4**2), "G42": 400*(1**2)},
    "G42" : {"G18": 1700*(4**2), "G41": 400*(1**2), "G43": 400*(1**2), "U4": 950*(2**2)},
    "G43" : {"U3": 350*(1**2), "G44": 2000*(6**2), "G42": 400*(1**2)},
    "G44" : {"G43": 2000*(6**2), "G45": 500*(1**2), "G52": 1600*(4**2)},
    "G45" : {"G44": 500*(1**2), "U4": 220*(1**2), "G51": 1800*(5**2)},
    "G46" : {"U4": 1700*(4**2), "G49": 190*(1**2)},
    "G47" : {"G38": 1300*(3**2), "G46": 190*(1**2)},
    "G48" : {"G37": 1800*(4**2), "G47": 75*(1**2)},
    "G49" : {"G48": 75*(1**2), "G50": 500*(1**2)},
    "G50" : {"G49": 500*(1**2), "G51": 250*(1**2), "G54": 850*(3**2)},
    "G51" : {"G50": 250*(1**2), "G45": 1800*(5**2), "G52": 900*(3**2)},
    "G52" : {"G44": 1600*(4**2), "G51": 900*(3**2), "G53": 1200*(3**2)},
    "G53" : {"G52": 1200*(3**2), "G54": 1200*(3**2), "G76": 700*(2**2), "G77": 1300*(4**2)},
    "G54" : {"G53": 1200*(3**2), "G50": 1200*(3**2), "G55": 1800*(6**2)},
    "G55" : {"G54": 1800*(6**2), "G56": 650*(2**2)},
    "G56" : {"G32": 450*(1**2), "G55": 650*(2**2), "G57": 250*(1**2), "U04": 3100*(10**2)},
    "G57" : {"G56": 250*(1**2), "G58": 400*(2**2), "G70": 1100*(3**2)},
    "G58" : {"G57": 400*(2**2), "G26": 500*(1**2), "G69": 1200*(1**2)},
    "G59" : {"G26": 600*(1**2), "G20": 1200*(4**2), "G60": 1600*(4**2), "G68": 2000*(5**2)},
    "G60" : {"G59": 1600*(4**2), "G61": 2200*(8**2), "G64": 2300*(9**2)},
    "G61" : {"G60": 2200*(8**2), "G62": 1200*(4**2), "G63": 650*(2**2)},
    "G62" : {"G61": 1200*(4**2), "G63": 800*(1**2), "G96": 4900*(11**2)},
    "G63" : {"G89": 2300*(4**2), "G62": 800*(1**2), "G61": 650*(2**2), "G64": 1800*(4**2)},
    "G64" : {"G60": 2300*(9**2), "G63": 1800*(4**2), "G65": 1500*(4**2), "G66": 2000*(4**2)},
    "G65" : {"G64": 1500*(4**2), "G66": 1600*(2**2), "G89": 2400*(4**2), "G81": 2600*(8**2)},
    "G66" : {"G64": 2000*(4**2), "G65": 1600*(2**2), "G67": 500*(1**2)},
    "G67" : {"G66": 500*(1**2), "G72": 1200*(3**2), "G78": 170*(1**2), "G68": 2000*(2**2)},
    "G68" : {"G67": 2000*(2**2), "G59": 2000*(5**2), "G69": 400*(1**2)},
    "G69" : {"G58": 1200*(1**2), "G68": 400*(1**2), "G70": 550*(2**2)},
    "G70" : {"G59": 550*(2**2), "G57": 1100*(3**2), "G71": 1500*(4**2)},
    "G71" : {"G70": 1500*(4**2), "U04": 1900*(6**2), "G72": 450*(1**2)},
    "G72" : {"G67": 1200*(3**2), "G71": 450*(1**2), "G73": 1900*(5**2)},
    "G73" : {"G72": 1900*(5**2), "G75": 350*(1**2), "G74": 350*(1**2)},
    "G74" : {"G73": 350*(1**2), "G75": 250*(1**2), "G77": 600*(2**2)},
    "G75" : {"G76": 600*(2**2), "G73": 350*(1**2), "G74": 250*(1**2), "U04": 750*(4**2)},
    "G76" : {"G75": 600*(2**2), "G77": 400*(1**2), "G53": 700*(1**2)},
    "G77" : {"G53": 1300*(4**2), "G76": 400*(1**2), "G74": 600*(2**2)},
    "G78" : {"G67": 170*(1**2), "G79": 2400*(2**2), "G80": 2300*(7**2)},
    "G79" : {"G78": 2400*(2**2), "G80": 850*(3**2)},
    "G80" : {"G78": 2300*(7**2), "G81": 1900*(6**2), "G79": 850*(3**2)},
    "G81" : {"G65": 2600*(8**2), "G80": 1900*(6**2), "G82": 2300*(4**2)},
    "G82" : {"G81": 2300*(4**2), "G86": 1200*(2**2), "G83": 600*(1**2)},
    "G83" : {"G82": 600*(1**2), "G84": 1300*(3**2), "U6": 1200*(3**2)},
    "G84" : {"G83": 1300*(3**2), "U6": 1000*(2**2), "G85": 500*(2**2), "G92": 650*(2**2)},
    "G85" : {"G84": 500*(2**2), "G86": 650*(1**2), "G90": 1500*(4**2)},
    "G86" : {"G82": 1200*(2**2), "G85": 650*(1**2), "G87": 1200*(3**2)},
    "G87" : {"G86": 1200*(1**2), "G88": 400*(1**2), "G89": 450*(1**2)},
    "G88" : {"G87": 400*(1**2), "G89": 220*(1**2), "G90": 850*(1**2)},
    "G89" : {"G63": 2300*(4**2), "G65": 2400*(4**2), "G88": 220*(1**2), "G87": 450*(1**2)},
    "G90" : {"G85": 1500*(4**2), "G88": 850*(1**2), "U5": 250*(1**2)},
    "G91" : {"U5": 850*(1**2), "G92": 450*(1**2), "G94": 2100*(4**2)},
    "G92" : {"G91": 450*(1**2), "G84": 650*(2**2), "G97": 4000*(8**2)},
    "G93" : {"U5": 950*(2**2), "G94": 800*(2**2), "G96": 1200*(3**2)},
    "G94" : {"G93": 800*(2**2), "G95": 360*(1**2), "G91": 2100*(4**2)},
    "G95" : {"G94": 360*(1**2), "G96": 350*(1**2), "U7": 500*(1**2), "G97": 300*(1**2)},
    "G96" : {"G62": 4900*(11**2), "G95": 350*(1**2), "G93": 1200*(3**2)},
    "G97" : {"G92": 4000*(8**2), "G95": 300*(1**2), "U8": 500*(1**2)},
}

print("Introduce la universidad de inicio:")
print("U1 - Universidad Nacional de Ingenieria (UNI)")
print("U2 - Universidad Peruana Cayetano Heredia")
print("U3 - Universidad Nacional Mayor de San Marcos (UNMSM)")
print("U4 - Pontificia Universidad Catolica del Peru (PUCP)")
print("U04 - UPC Campus San Isidro")
print("U5 - Universidad de Lima (ULima)")
print("U6 - UPC Campus Monterrico")
print("U7 - Universidad San Ignacio de Loyola (USIL)")
print("U8 - Universidad Nacional Agraria La Molina (UNALM)")
inicio = input(" > ")

print("Introduce la universidad de destino:")
final = input(" > ")

if inicio in grafo and final in grafo:
    camino, distancia_final = dijkstra(grafo, inicio, final)
    print(f"Recorrido desde {inicio} hasta {final}:")
    for i in range(len(camino) -1 ):
        print(f"{camino[i]} -> ", end="")
    print(camino[-1])
else:
    print("Nodos no válidos. Asegúrate de que los nodos de inicio y final existan en el grafo.")